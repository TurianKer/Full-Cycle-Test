#------------------------
# Part 1
#
# TurianKer Prod.
#------------------------
name: Git-Automation-Base
env: # –≥–ª–æ–∞–±–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 
  APPLICATION_NAME     : "My_Flask"
  DEPLOY_PACKAGE_NAME  : "flask_deploy_ver_${{ github.sha }}" # –∫–æ–¥ –∫–æ–º–º–∏—Ç–∞ –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö (–æ–Ω —É–∫–∞–∑–∞–Ω –≤ –ø—Ä–∞–≤–æ–º —É–≥–ª—É –∫–æ–º–º–∏—Ç–∞ - –ø–æ —Å—É—Ç–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä) 

on: # –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (—Ç—Ä–∏–≥–≥–µ—Ä) –∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ
  push: # –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∫–æ–º–∞–Ω–¥–∞ push - —Ç—Ä–∏–≥–≥–µ—Ä
    branches: # —Å–ø–∏—Å–æ–∫ –±—Ä—ç–Ω—á–µ–π –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—è—Ç –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ push
      - main

jobs: # –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ (block –∫–∞–∫ –≤ ansible), –≤—Å–µ —Ä–∞–Ω–Ω–µ—Ä—ã –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —Ç–∞—Å–∫–∞–º–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –í –ü–û–†–Ø–î–ö–ï –ü–ï–†–ï–ß–ò–°–õ–ï–ù–ò–Ø  
  my_testing: # –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–∂–æ–±–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º
    runs-on: ubuntu-latest # –≥–¥–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å—Ç–µ–ø—ã –¥–∂–æ–±–∞ (–≤–∏—Ä—Ç—É–∞–ª–∫–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –¥–æ–∫–µ—Ä)
    steps: # like task in ansible
      - name: print Hello
        run : echo "Hello World from testing" # run = shell in linux
        
      - name: Knowledge about OS 
        run :  echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
        
      - name: execute few command #shell script
        run : | # –∑–Ω–∞–∫ –ø–∞–π–ø–∞ —Å–æ–∑–¥–∞–µ—Ç –°–ü–ò–°–û–ö –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
          echo "If you want to code" 
          echo "You just need to CODE bro"
          echo "SO JUST GO CODE BRO"
          echo "Application name: ${{ env.APPLICATION_NAME }}"  
# —Ç–∞–∫ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –∫–ª—é—á.–∑–Ω–∞—á–µ–Ω–∏–µ
        
      - name: Git clone my repo #—Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Ç–µ–∫—É—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª–∫—É
        uses: actions/checkout@v1 #–≤–Ω–µ—à–Ω–∏–π —Å–∫—Ä–∏–ø—Ç

      - name: list current folder
        run : ls -la
        
  my_deploy:
    runs-on: ubuntu-latest
    needs: [my_testing]
    steps:
    - name: Print Hello 
      run : echo "Hello World from Deploy job"
      
    - name: Print Deploy Package
      run : echo "Deploy Package name is ${{ env.DEPLOY_PACKAGE_NAME }}"

    - name: Lets test some packages if there are here 1
      run : aws --version

    - name: Lets test some packages if there are here 1
      run : zip
   
